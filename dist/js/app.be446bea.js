(function(){"use strict";var a={208:function(a,e,t){var r=t(5130),n=t(9005),c=t(6768),s=t(144),o=t(4232);const i={class:"character-card"},u=["src"],l={class:"character-card__container"},p={class:"character-card__container-item"},d={class:"character-card__name"},h={class:"character-card__staus"},v={class:"character-card__container-item"},f=(0,c.Lk)("span",null,"Last known location:",-1),m={class:"character-card__container-item"},_=(0,c.Lk)("span",null,"First seen in:",-1);var g=(0,c.pM)({__name:"CharacterCard",props:{character:{},episodeName:{}},setup(a){const e=a;return(a,t)=>((0,c.uX)(),(0,c.CE)("div",i,[(0,c.Lk)("img",{class:"character-card__img",src:e.character.image},null,8,u),(0,c.Lk)("div",l,[(0,c.Lk)("div",p,[(0,c.Lk)("span",d,(0,o.v_)(e.character.name),1),(0,c.Lk)("span",h,(0,o.v_)(e.character.status)+" - "+(0,o.v_)(e.character.species),1)]),(0,c.Lk)("div",v,[f,(0,c.Lk)("span",null,(0,o.v_)(e.character.locationName),1)]),(0,c.Lk)("div",m,[_,(0,c.Lk)("span",null,(0,o.v_)(e.episodeName),1)])])]))}});const C=g;var k=C,w=t(1114);class b{constructor(a){(0,w.A)(this,"rawCharacter",void 0),this.rawCharacter=a}get firstEpisodeId(){const a=this.rawCharacter.episode[0].split("/");return Number(a[a.length-1])}get id(){return this.rawCharacter.id}get name(){return this.rawCharacter.name}get episode(){return this.rawCharacter.episode}get image(){return this.rawCharacter.image}get species(){return this.rawCharacter.species}get status(){return this.rawCharacter.status}get locationName(){return this.rawCharacter.location.name}}async function y(a=""){const e=await fetch(`https://rickandmortyapi.com/api/character/${a}`);if(e.status>=400)return null;const t=await e.json();return{rawCharacters:t.results,info:t.info}}const L=(0,n.nY)("CharacterModel",(()=>{const a=(0,s.KR)([]),e=(0,s.KR)(0),t=async(t="")=>{const r=await y(t);if(r){const t=r.rawCharacters.map((a=>new b(a)));a.value=t,e.value=r.info.pages}else a.value=[],e.value=0};return{updateCharacters:t,characterPagesRef:e,charactersRef:a}})),R=(0,n.nY)("characterParam",(()=>{const a=(0,s.KR)(1),e=(0,s.KR)(""),t=(0,s.KR)(""),r=(0,c.EW)((()=>`?page=${a.value}&status=${e.value}&name=${t.value}`));return{params:r,page:a,status:e,name:t}})),E={class:"filter-character"},V=(0,c.Lk)("option",{value:""},"All",-1),O=(0,c.Lk)("option",{value:"Alive"},"Alive",-1),P=(0,c.Lk)("option",{value:"Dead"},"Dead",-1),X=(0,c.Lk)("option",{value:"unknown"},"unknown",-1),j=[V,O,P,X];var M=(0,c.pM)({__name:"CharacterFilters",setup(a){const e=R(),t=L(),{params:o,name:i,status:u,page:l}=(0,n.bP)(e),p=()=>{l.value=1,t.updateCharacters(o.value)};return(a,e)=>((0,c.uX)(),(0,c.CE)("div",E,[(0,c.bo)((0,c.Lk)("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>(0,s.i9)(i)?i.value=a:null),type:"text",placeholder:"Name"},null,512),[[r.Jo,(0,s.R1)(i)]]),(0,c.bo)((0,c.Lk)("select",{id:"status","onUpdate:modelValue":e[1]||(e[1]=a=>(0,s.i9)(u)?u.value=a:null)},j,512),[[r.u1,(0,s.R1)(u)]]),(0,c.Lk)("button",{onClick:p},"Применить")]))}});const F=M;var K=F;t(4114);const A={class:"pagination"},x=["onClick"];var N=(0,c.pM)({__name:"Pagination",props:{pageCount:{},modelValue:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,r=e,n=(0,c.EW)((()=>{const a=3,e=[],r=t.modelValue,n=t.modelValue>=a,c=t.pageCount<=a;if(c){for(let a=1;a<=t.pageCount;a++)e.push(a);return e}if(n){const a=t.pageCount===r?r-2:r-1,n=t.pageCount-1<=r?t.pageCount:r+1;for(let t=a;t<=n;t++)e.push(t);return e}for(let t=1;t<=a;t++)e.push(t);return e}));return(a,e)=>((0,c.uX)(),(0,c.CE)("div",A,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(n.value,(e=>((0,c.uX)(),(0,c.CE)("div",{class:(0,o.C4)(["pagination__cell",{pagination__cell_active:e===a.modelValue}]),key:e,onClick:a=>r("update:modelValue",e)},(0,o.v_)(e),11,x)))),128))]))}});const I=N;var W=I;const $={class:"characters-pagination"};var U=(0,c.pM)({__name:"CharactersPagination",setup(a){const e=R(),t=L(),{params:r,page:o}=(0,n.bP)(e),{characterPagesRef:i}=(0,n.bP)(t),u=(0,c.EW)({get:()=>o.value,set:a=>{o.value=a,t.updateCharacters(r.value)}});return(a,e)=>((0,c.uX)(),(0,c.CE)("div",$,[(0,c.bF)((0,s.R1)(W),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),"page-count":(0,s.R1)(i)},null,8,["modelValue","page-count"])]))}});const D=U;var T=D;async function Y(a){if(0===a.length)return[];const e=await fetch(`https://rickandmortyapi.com/api/episode/${a.join(",")}`);if(e.status>=400)return[];const t=await e.json();return Array.isArray(t)?t:[t]}const B={class:"main"},J={class:"main__header"},q={class:"main__container"};var z=(0,c.pM)({__name:"Main",setup(a){const e=L(),{charactersRef:t}=(0,n.bP)(e),r=(0,s.KR)([]);(0,c.sV)((()=>{e.updateCharacters()})),(0,c.wB)(t,(async()=>{const a=t.value.map((a=>a.firstEpisodeId)),e=await Y(a);r.value=e}));const o=(a,e)=>e.find((e=>e.id===a.firstEpisodeId))?.name||"";return(a,e)=>((0,c.uX)(),(0,c.CE)("div",B,[(0,c.Lk)("div",J,[(0,c.bF)((0,s.R1)(K))]),(0,c.Lk)("div",q,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)((0,s.R1)(t),(a=>((0,c.uX)(),(0,c.Wv)((0,s.R1)(k),{class:"main__character-card",key:a.id,character:a,"episode-name":o(a,r.value)},null,8,["character","episode-name"])))),128))]),(0,c.bF)((0,s.R1)(T),{class:"main__pagination"})]))}});const G=z;var H=G,Q=(0,c.pM)({__name:"App",setup(a){return(a,e)=>((0,c.uX)(),(0,c.Wv)(H))}});const S=Q;var Z=S;const aa=(0,n.Ey)(),ea=(0,r.Ef)(Z);ea.use(aa),ea.mount("#app")}},e={};function t(r){var n=e[r];if(void 0!==n)return n.exports;var c=e[r]={exports:{}};return a[r].call(c.exports,c,c.exports,t),c.exports}t.m=a,function(){var a=[];t.O=function(e,r,n,c){if(!r){var s=1/0;for(l=0;l<a.length;l++){r=a[l][0],n=a[l][1],c=a[l][2];for(var o=!0,i=0;i<r.length;i++)(!1&c||s>=c)&&Object.keys(t.O).every((function(a){return t.O[a](r[i])}))?r.splice(i--,1):(o=!1,c<s&&(s=c));if(o){a.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}c=c||0;for(var l=a.length;l>0&&a[l-1][2]>c;l--)a[l]=a[l-1];a[l]=[r,n,c]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var r in e)t.o(e,r)&&!t.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:e[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,r){var n,c,s=r[0],o=r[1],i=r[2],u=0;if(s.some((function(e){return 0!==a[e]}))){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(i)var l=i(t)}for(e&&e(r);u<s.length;u++)c=s[u],t.o(a,c)&&a[c]&&a[c][0](),a[c]=0;return t.O(l)},r=self["webpackChunkrick_morty"]=self["webpackChunkrick_morty"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(208)}));r=t.O(r)})();
//# sourceMappingURL=app.be446bea.js.map